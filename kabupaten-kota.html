<!DOCTYPE html>
<html lang="id" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail BERSERI - Dinas Lingkungan Hidup Provinsi Jawa Timur</title>
    <link rel="icon" type="image/png" href="Asset/logo-berseri.png" />
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #FFFFFF;
            --bg-soft: #F7FAF7;
            --ink: #111827;
            --muted: #374151;
            --primary: #065F46;
            --primary-weak: #D1FAE5;
            --border: #E5E7EB;
            --focus: #10B981;
        }
        html, body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif; }
        body { font-size: 18px; line-height: 1.6; background: var(--bg); color: var(--ink); }

        .btn { min-height:48px; display:inline-flex; align-items:center; justify-content:center; padding:12px 20px; border-radius:12px; font-weight:600; }
        .btn-primary { background:var(--primary); color:#fff; border:2px solid var(--primary); box-shadow:0 1px 0 rgba(0,0,0,0.05); }
        .btn-primary:hover{ filter:brightness(1.05); }
        .btn-primary:focus{ outline:3px solid transparent; box-shadow:0 0 0 3px var(--focus); }
        .btn-secondary { background:#fff; color:var(--primary); border:2px solid var(--primary); }
        .btn-secondary:hover{ background:var(--primary-weak); }
        .btn-secondary:focus{ outline:3px solid transparent; box-shadow:0 0 0 3px var(--focus); }

        /* Cards and icons */
        .card { background:#fff; border:1px solid var(--border); border-radius:16px; padding:24px; }
        .icon-round { width:40px; height:40px; border-radius:9999px; display:inline-flex; align-items:center; justify-content:center; background:var(--primary-weak); color:var(--primary); font-weight:800; }
        a{ color:var(--primary); } a:hover{ text-decoration:underline; }
        :focus-visible{ outline:3px solid var(--focus); outline-offset:2px; }

        /* Nav and dropdown styling */
        .nav-link {
            position: relative;
            padding: 0.5rem 0.75rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            background-color: transparent;
        }
        
        .nav-link:hover {
            background-color: #D1FAE5; /* Light green background */
            color: #065F46; /* Dark green text */
            animation: gentleShake 0.3s ease-in-out;
        }

        .md\:flex.items-center.gap-6 {
            gap: 2px;
        }

        /* Dropdown styling */
        .group:hover .hidden {
            display: block;
        }

        /* Animation for dropdown */
        .group div {
            transform-origin: top;
            transform: scale(0.95);
            transition: all 0.1s ease-out;
        }

        .group:hover div {
            transform: scale(1);
            opacity: 1;
        }

        /* Ensure dropdown is above other content */
        .relative {
            position: relative;
            z-index: 50;
        }

        /* Card hover effects */
        .card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        /* Gentle shake animation */
        @keyframes gentleShake {
            0% { transform: translateY(0); }
            25% { transform: translateY(-2px); }
            75% { transform: translateY(2px); }
            100% { transform: translateY(0); }
        }

        /* Marquee animation */
        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        .animate-marquee {
            display: inline-block;
            min-width: 100%;
            animation: marquee 15s linear infinite;
            will-change: transform;
        }
        .animate-marquee:hover {
            animation-play-state: paused;
        }
        
        /* Table specific styles */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            margin: 0;
            padding: 0;
        }

        main {
            flex: 1 0 auto;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            margin-bottom: 30px;
            color: #2c3e50;
            font-size: 1.5rem; /* Make the header text smaller on mobile */
        }

        @media (min-width: 640px) {
            h1 {
                font-size: 2rem;
            }
        }

        /* Table styles */
        .number-cell {
            text-align: right;
        }

        /* Sort indicators */
        th.sortable {
            position: relative;
            padding-right: 2rem !important;
        }

        th.sortable::after {
            content: 'â‡…';
            position: absolute;
            right: 0.75rem;
            opacity: 0.3;
        }

        th.sort-asc::after {
            content: 'â†‘';
            opacity: 1;
        }

        th.sort-desc::after {
            content: 'â†“';
            opacity: 1;
        }

        /* Pagination buttons */
        .pagination button {
            padding: 0.75rem 1rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            background-color: white;
            border: 1px solid #D1D5DB;
            border-radius: 0.375rem;
        }

        .pagination button:hover:not(:disabled) {
            background-color: #F9FAFB;
        }

        .pagination button.active {
            color: white;
            background-color: var(--primary);
            border-color: var(--primary);
        }

        .pagination button.active:hover {
            background-color: #064E3B;
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Total row */
        .total-row {
            font-weight: 700;
            background-color: #F9FAFB;
        }

        /* Page Layout */
        html {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        
        body {
            min-height: 100vh;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
        }

        main {
            flex: 1 0 auto;
            width: 100%;
            display: flex;
            flex-direction: column;
        }

        /* Footer styling */
        footer.bg-emerald-800 {
            width: 100%;
            position: relative;
            bottom: 0;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0;
        }

        /* Prevent horizontal scroll */
        html, body {
            overflow-x: hidden;
            max-width: 100%;
        }

        /* Align content margins with header */
        .max-w-7xl {
            width: 100%;
            max-width: 80rem;
            margin-left: auto;
            margin-right: auto;
            padding-left: 1.5rem;
            padding-right: 1.5rem;
        }

        /* Table border styles */
        #dataTable {
            border-collapse: separate;
            border-spacing: 0;
        }

        /* Update these styles in your style section */

        /* Reset all borders first */
        #dataTable th,
        #dataTable td {
            border: none;
        }

        /* Add basic borders */
        #dataTable {
            border-collapse: collapse;
        }

        /* Add vertical borders */
        #dataTable td,
        #dataTable th {
            border-right: 1px solid #e5e7eb;
        }

        /* Remove right border from last column */
        #dataTable td:last-child,
        #dataTable th:last-child {
            border-right: none;
        }

        /* Add horizontal border under headers */
        #dataTable thead tr:last-child th {
            border-bottom: 1px solid #e5e7eb;
        }

        /* Add borders between rows */
        #dataTable tbody tr {
            border-bottom: 1px solid #e5e7eb;
        }

        /* Remove bottom border from last row */
        #dataTable tbody tr:last-child {
            border-bottom: none;
        }

        /* Special styling for KATEGORI header */
        #dataTable thead th[colspan="3"] {
            border-bottom: 1px solid #e5e7eb;
        }

        /* Total row styling */
        #dataTable tbody tr:last-child {
            background-color: #ffffff !important; /* Match table background color */
            font-weight: bold;
            border-top: 1px solid #e5e7eb; /* Keep top border */
        }

        /* Override any other background colors */
        #dataTable tbody tr:last-child td {
            background-color: #ffffff !important;
        }

        /* Keep center alignment for total row */
        #dataTable tbody tr:last-child td {
            text-align: center !important;
        }

        /* Center align headers */
        #dataTable th {
            text-align: center !important;
        }
        
        /* Keep left alignment for Kabupaten/Kota column data */
        #dataTable td:nth-child(2) {
            text-align: left;
        }

        /* Add or update in your style section */

        /* Remove any existing border rules for these columns first */
        #dataTable th[colspan="3"] {
            border-right: 1px solid #e5e7eb;
        }

        /* Add continuous vertical border between MANDIRI and JUMLAH */
        #dataTable thead tr:first-child th:last-child,
        #dataTable thead tr:last-child th:last-child,
        #dataTable tbody td:last-child {
            border-left: 1px solid #e5e7eb !important;
        }

        /* Keep MANDIRI column border */
        #dataTable thead tr:last-child th:nth-child(5),
        #dataTable tbody td:nth-child(5) {
            border-right: none !important;
        }

        /* Ensure Total row maintains the border */
        #dataTable tbody tr:last-child td:last-child {
            border-left: 1px solid #e5e7eb !important;
        }

        /* Center align the Total Jawa Timur text and its data */
        #dataTable tbody tr:last-child td {
            text-align: center !important;
        }

        /* Override the first cell (Total Jawa Timur) to be center aligned */
        #dataTable tbody tr:last-child td:first-child {
            text-align: center !important;
        }

        /* Add to your existing style section */

        /* Stripe pattern for table rows */
        #dataTable tbody tr:nth-child(even) {
            background-color: #f2f2f2;
        }

        #dataTable tbody tr:nth-child(odd) {
            background-color: #ffffff;
        }

        /* Hover effect same as detail-berseri */
        #dataTable tbody tr:hover {
            background-color: #e9ecef;
        }

        /* Keep the total row styling */
        #dataTable tbody tr:last-child {
            background-color: #f9fafb !important;
            font-weight: bold;
        }

        /* Update the table header background color */
#dataTable thead tr {
    background-color: #f2f2f2 !important;
}

#dataTable thead th {
    background-color: #f2f2f2;
    font-weight: 700 !important;
    color: #374151;
}

/* Keep the borders */
#dataTable thead th {
    border-bottom: 1px solid #e5e7eb;
    border-right: 1px solid #e5e7eb;
}

/* Remove right border from last column */
#dataTable thead th:last-child {
    border-right: none;
}

/* Update header font weight */
.text-sm.font-medium.text-gray-500.uppercase {
    font-weight: 700 !important;
}
    </style>
</head>
<body class="min-h-screen">
    <!-- Banner Atas (teks berjalan) -->
    <div id="banner-top" class="w-full bg-gray-100 border-b border-gray-200 overflow-hidden">
        <div class="whitespace-nowrap animate-marquee py-2 text-gray-700 text-sm font-medium">
            ðŸŒ¿ Selamat datang di Program Berseri (Bersih & Lestari) â€“ DLH Provinsi Jawa Timur â€¢ 
            ðŸ“¢ Pendaftaran gelombang pertama telah dibuka â€¢ 
            ðŸŒ± Mari wujudkan desa bersih, sehat, dan lestari bersama!
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white border-b sticky top-0 z-[2000]" role="banner" style="border-color: var(--border)">
  <nav class="max-w-7xl mx-auto px-4 lg:px-6 py-4" role="navigation" aria-label="Navigasi utama">
    <div class="flex items-center justify-between gap-4">
      <a href="index.html" class="flex items-center gap-3" aria-label="Berseri Beranda">
        <!-- Logo Bulat Berseri Atas -->
        <img src="Asset/logo-berseri.png" alt="Logo Berseri" class="h-16">
        <!-- Logo Kata Berseri Atas -->
        <img src="Asset/Logo Kata Berseri.png" alt="Logo DLH" class="h-16">
      </a>

      <!-- NAV Desktop -->
      <ul class="hidden md:flex items-center gap-2">
        <li><a href="index.html" class="nav-link font-semibold text-[var(--muted)]">Beranda</a></li>
        <li><a href="tentang.html" class="nav-link font-semibold text-[var(--muted)]">Tentang</a></li>
        
        <li class="relative group">
          <button class="nav-link font-semibold text-[var(--muted)] flex items-center gap-1">
            Data
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </button>
          <!-- Dropdown menu -->
          <div class="absolute left-0 hidden group-hover:block mt-1 w-48 bg-white border rounded-lg shadow-lg py-2">
            <a href="detail-berseri.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-emerald-50 hover:text-emerald-700">Detail Berseri</a>
            <a href="kabupaten-kota.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-emerald-50 hover:text-emerald-700">Kabupaten/Kota</a>
          </div>
        </li>
        
        <li><a href="panduan.html" class="nav-link font-semibold text-[var(--muted)]">Panduan</a></li>
        <li><a href="pengumuman.html" class="nav-link font-semibold text-[var(--muted)]">Pengumuman</a></li>
        <li><a href="dashboard.html" class="btn btn-primary no-underline">Dashboard</a></li>
      </ul>

      <!-- Mobile button -->
      <button id="mobile-menu-btn"
        class="md:hidden btn btn-secondary px-3 py-2"
        aria-controls="mobile-menu" aria-expanded="false" aria-label="Buka menu">
        <!-- Icon default (menu / hamburger) -->
        <svg id="icon-menu" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7h16M4 12h16M4 17h16"/>
        </svg>
        <!-- Icon X (tutup) -->
        <svg id="icon-close" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>

    <!-- NAV Mobile -->
    <div id="mobile-menu" class="md:hidden mt-4 hidden" role="menu" tabindex="-1">
      <ul class="flex flex-col gap-2 bg-[var(--bg-soft)] p-4 rounded-xl border" style="border-color: var(--border)">
        <li><a href="tentang.html" class="block px-2 py-2 rounded hover:bg-white nav-link">Tentang</a></li>
        <li><a href="panduan.html" class="block px-2 py-2 rounded hover:bg-white nav-link">Panduan</a></li>
        <li><a href="kabupaten-kota.html" class="block px-2 py-2 rounded hover:bg-white nav-link">Kabupaten/Kota</a></li>
        <li><a href="pengumuman.html" class="block px-2 py-2 rounded hover:bg-white nav-link">Pengumuman</a></li>
        <li><a href="dashboard.html" class="btn btn-primary w-full no-underline">Dashboard</a></li>
      </ul>
    </div>
  </nav>
</header>

    <main class="flex-1 flex flex-col">
        <!-- Table Section -->
        <section class="max-w-7xl mx-auto py-8 flex-1">
            <div class="space-y-6 px-6">
                <h1 class="text-3xl font-bold text-emerald-800 text-center uppercase">DATA KABUPATEN/KOTA</h1>
            <div class="bg-white rounded-lg shadow">
                <div class="px-6 py-4 border-b border-gray-200">
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                        <!-- Show entries section (left) -->
                        <div class="flex items-center gap-2">
                            <span class="text-sm text-gray-600">Show:</span>
                            <div class="relative inline-block">
                                <select id="entriesPerPage" class="appearance-none bg-white border border-gray-300 rounded-md pl-3 pr-8 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500">
                                    <option value="10" selected>12</option>
                                    <option value="25">24</option>
                                    <option value="50">38</option>
                                </select>
                                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                                    </svg>
                                </div>
                            </div>
                            <span class="text-sm text-gray-600">entries</span>
                        </div>

                        <!-- Search section (right) -->
                        <div class="flex items-center gap-2">
                            <span class="text-sm text-gray-600">Cari:</span>
                            <div class="relative">
                                <input type="text" id="searchInput" 
                                    class="appearance-none bg-white border border-gray-300 rounded-md pl-3 pr-8 py-2 text-sm w-48 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"
                                    placeholder="Search...">
                                <div class="absolute inset-y-0 right-0 flex items-center px-2 text-gray-500">
                                    <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="overflow-x-auto">
                    <table id="dataTable" class="min-w-full divide-y divide-gray-200">
                        <thead>
                            <tr class="bg-gray-50">
                                <th class="px-3 py-4 text-sm font-bold text-gray-700 uppercase tracking-wider sortable cursor-pointer" data-column="no" style="width: 80px;" rowspan="2">
                                    NO.
                                </th>
                                <th class="px-6 py-4 text-sm font-bold text-gray-700 uppercase tracking-wider sortable cursor-pointer" data-column="kabupaten" rowspan="2">
                                    KABUPATEN/KOTA
                                </th>
                                <th class="px-6 py-2 text-sm font-bold text-gray-700 uppercase tracking-wider" colspan="3">
                                    KATEGORI
                                </th>
                                <th class="px-6 py-4 text-sm font-bold text-gray-700 uppercase tracking-wider sortable cursor-pointer" data-column="jumlah" rowspan="2">
                                    JUMLAH
                                </th>
                            </tr>
                            <tr class="bg-gray-50">
                                <th class="px-6 py-2 text-sm font-bold text-gray-700 uppercase tracking-wider sortable cursor-pointer" data-column="pratama">
                                    PRATAMA
                                </th>
                                <th class="px-6 py-2 text-sm font-bold text-gray-700 uppercase tracking-wider sortable cursor-pointer" data-column="madya">
                                    MADYA
                                </th>
                                <th class="px-6 py-2 text-sm font-bold text-gray-700 uppercase tracking-wider sortable cursor-pointer" data-column="mandiri">
                                    MANDIRI
                                </th>
                            </tr>
                        </thead>
                        <tbody id="tableBody" class="bg-white divide-y divide-gray-200">
                        </tbody>
                    </table>
                </div>

                <div class="px-6 py-4 border-t border-gray-200">
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4">
                        <div id="infoText" class="text-sm text-gray-700"></div>
                        <div class="pagination flex items-center gap-2" id="pagination"></div>
                    </div>
                </div>
            </div>
    </div>

    <script>
    let allData = [];
    let filteredData = [];
    let currentPage = 1;
    let entriesPerPage = 10;
    let sortColumn = null;
    let sortDirection = 'asc';

    // Fetch data when page loads
    document.addEventListener('DOMContentLoaded', () => {
        fetch('data-kabupaten-kota.json')
            .then(response => response.json())
            .then(data => {
                allData = data.items;
                filteredData = [...allData];
                renderTable();
            })
            .catch(error => {
                console.error('Error loading data:', error);
                document.getElementById('tableBody').innerHTML = '<tr><td colspan="6" class="px-6 py-4 text-center text-red-500">Error loading data</td></tr>';
            });
    });

        // In the sorting function, remove the tahunan field from consideration
        function sortData(column) {
            if (sortColumn === column) {
                sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortDirection = 'asc';
            }

            filteredData.sort((a, b) => {
                let valA = a[column];
                let valB = b[column];
                
                if (typeof valA === 'string') {
                    valA = valA.toLowerCase();
                    valB = valB.toLowerCase();
                }

                if (sortDirection === 'asc') {
                    return valA > valB ? 1 : -1;
                } else {
                    return valA < valB ? 1 : -1;
                }
            });

            // Update sort indicators
            document.querySelectorAll('th').forEach(th => {
                th.classList.remove('sort-asc', 'sort-desc');
            });
            const th = document.querySelector(`th[data-column="${column}"]`);
            th.classList.add(sortDirection === 'asc' ? 'sort-asc' : 'sort-desc');

            renderTable();
        }

        function renderTable() {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';

            const start = (currentPage - 1) * entriesPerPage;
            const end = start + entriesPerPage;
            const pageData = filteredData.slice(start, end);

            let grandTotalPratama = 0;
            let grandTotalMadya = 0;
            let grandTotalMandiri = 0;

            pageData.forEach((item, index) => {
                const row = tbody.insertRow();
                const rowNumber = start + index + 1;
                
                const total = item.pratama + item.madya + item.mandiri;

                grandTotalPratama += item.pratama;
                grandTotalMadya += item.madya;
                grandTotalMandiri += item.mandiri;

                row.innerHTML = `
                    <td class="px-3 py-4 text-sm text-center">${rowNumber}</td>
                    <td class="px-6 py-4 text-sm">${item.kabupaten}</td>
                    <td class="px-6 py-4 text-sm text-center">${item.pratama}</td>
                    <td class="px-6 py-4 text-sm text-center">${item.madya}</td>
                    <td class="px-6 py-4 text-sm text-center">${item.mandiri}</td>
                    <td class="px-6 py-4 text-sm text-center font-bold">${total}</td>
                `;
            });

            // Add totals row
            const totalRow = tbody.insertRow();
            totalRow.className = 'bg-gray-50 font-bold';
            const grandTotal = grandTotalPratama + grandTotalMadya + grandTotalMandiri;
            totalRow.innerHTML = `
                <td colspan="2" class="px-3 py-4 text-sm text-center">Total Jawa Timur</td>
                <td class="px-6 py-4 text-sm text-center">${grandTotalPratama}</td>
                <td class="px-6 py-4 text-sm text-center">${grandTotalMadya}</td>
                <td class="px-6 py-4 text-sm text-center">${grandTotalMandiri}</td>
                <td class="px-6 py-4 text-sm text-center">${grandTotal}</td>
            `;

            renderPagination();
            updateInfo();
        }

        function renderPagination() {
            const pagination = document.getElementById('pagination');
            pagination.innerHTML = '';

            const totalPages = Math.ceil(filteredData.length / entriesPerPage);

            // Previous button
            const prevBtn = document.createElement('button');
            prevBtn.textContent = 'Previous';
            prevBtn.disabled = currentPage === 1;
            prevBtn.onclick = () => {
                if (currentPage > 1) {
                    currentPage--;
                    renderTable();
                }
            };
            pagination.appendChild(prevBtn);

            // Page numbers
            const maxVisible = 5;
            let startPage = Math.max(1, currentPage - 2);
            let endPage = Math.min(totalPages, startPage + maxVisible - 1);

            if (endPage - startPage < maxVisible - 1) {
                startPage = Math.max(1, endPage - maxVisible + 1);
            }

            for (let i = startPage; i <= endPage; i++) {
                const btn = document.createElement('button');
                btn.textContent = i;
                btn.className = i === currentPage ? 'active' : '';
                btn.onclick = () => {
                    currentPage = i;
                    renderTable();
                };
                pagination.appendChild(btn);
            }

            if (endPage < totalPages) {
                const dots = document.createElement('span');
                dots.textContent = '...';
                dots.style.padding = '8px';
                pagination.appendChild(dots);

                const lastBtn = document.createElement('button');
                lastBtn.textContent = totalPages;
                lastBtn.onclick = () => {
                    currentPage = totalPages;
                    renderTable();
                };
                pagination.appendChild(lastBtn);
            }

            // Next button
            const nextBtn = document.createElement('button');
            nextBtn.textContent = 'Next';
            nextBtn.disabled = currentPage === totalPages;
            nextBtn.onclick = () => {
                if (currentPage < totalPages) {
                    currentPage++;
                    renderTable();
                }
            };
            pagination.appendChild(nextBtn);
        }

        function updateInfo() {
            const start = (currentPage - 1) * entriesPerPage + 1;
            const end = Math.min(currentPage * entriesPerPage, filteredData.length);
            const infoText = document.getElementById('infoText');
            infoText.textContent = `Showing ${start} to ${end} of ${filteredData.length} entries (Total ${allData.length})`;
        }

        // Event listeners
        document.getElementById('entriesPerPage').addEventListener('change', (e) => {
            entriesPerPage = parseInt(e.target.value);
            currentPage = 1;
            renderTable();
        });

        // Sorting
        document.querySelectorAll('th.sortable').forEach(th => {
            th.addEventListener('click', () => {
                sortData(th.dataset.column);
            });
        });

        // Add search functionality
document.getElementById('searchInput').addEventListener('input', function(e) {
    const searchTerm = e.target.value.toLowerCase();
    
    filteredData = allData.filter(item => 
        item.kabupaten.toLowerCase().includes(searchTerm) ||
        item.pratama.toString().includes(searchTerm) ||
        item.madya.toString().includes(searchTerm) ||
        item.mandiri.toString().includes(searchTerm)
    );
    
    currentPage = 1;
    renderTable();
});

        // Initialize
        renderTable();
    </script>

    </section>
    <!-- Footer -->
    <footer class="bg-emerald-800 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 lg:px-6">
            <div class="grid gap-8 md:grid-cols-3">
                <!-- Contact Info -->
                <div>
                    <h3 class="font-semibold text-lg mb-4">Hubungi Kami</h3>
                    <address class="not-italic space-y-3">
                        <div class="flex items-start gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mt-1 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                            </svg>
                            <p class="text-sm">Jl. Wisata Menanggal No.38, Dukuh Menanggal, Kec. Gayungan, Surabaya, Jawa Timur 60234</p>
                        </div>
                        <div class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                            </svg>
                            <p class="text-sm">(031) 8290186</p>
                        </div>
                        <div class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            <p class="text-sm">dlh@jatimprov.go.id</p>
                        </div>
                    </address>
                </div>

                <!-- Links -->
                <div>
                    <h3 class="font-semibold text-lg mb-4">Tautan</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-sm hover:underline">Beranda</a></li>
                        <li><a href="tentang.html" class="text-sm hover:underline">Tentang BERSERI</a></li>
                        <li><a href="panduan.html" class="text-sm hover:underline">Panduan</a></li>
                    </ul>
                </div>

                <!-- Social Media -->
                <div>
                    <h3 class="font-semibold text-lg mb-4">Media Sosial</h3>
                    <div class="flex items-center gap-2">
                        <a href="https://facebook.com/BerseriJatim" target="_blank" rel="noopener noreferrer" 
                           class="text-white hover:text-emerald-200 transition-colors">
                            <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"/>
                            </svg>
                            <span class="text-sm">BerseriJatim</span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="text-center pt-8 mt-8 border-t border-emerald-700">
                <p class="text-sm">Â© <span id="year">2024</span> BERSERI - Dinas Lingkungan Hidup Provinsi Jawa Timur</p>
            </div>
        </div>
    </footer>

    <!-- Script for updating year -->
    <script>
        document.getElementById('year').textContent = new Date().getFullYear();
    </script>
    <!-- Main JS for navigation -->
    <script src="js/main.js" defer></script>
</body>

</html>
